<?xml version="1.0" encoding="utf-8"?>
    <odoo>
        <!-- Learner Registration form -->
		<record id="view_learner_registration_form" model="ir.ui.view">
			<field name="name">view.learner.register.form</field>
			<field name="model">inseta.learner.register</field>
			<field name="arch" type="xml">
				<form string="Learner">
					<header>
                        <button name="action_set_to_draft" string="Set to Draft" type="object" states="done,reject,rework"/>
						<button name="action_submit" string="Submit" type="object" class="oe_highlight" attrs="{'invisible':[('state','not in',['draft'])]}" />

                    	<button name="action_rework" 
							states="evaluation,pending_approval,rework_etqa_eval"
							string="Rework" 
							type="object" 
							groups="inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin" />

						<button name="action_reject" 
							string="Reject" type="object"
							class="oe_highlight" 
							groups="inseta_etqa.group_etqa_evaluating_committee"
							confirm="Please confirm"
							states="awaiting_rejection"/>

						<button name="action_learner_submit_rework"
							string="Re-submit" 
							type="object"
							confirm="Are you sure you want to resubmit rework? All followers will be notified!"
							class="oe_highlight" 
							states="rework,rework_etqa_eval"
							/>

                        <button name="action_verify" string="Verify" type="object"
							class="oe_highlight" 
							groups="inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_assessment_admin"
							confirm="Are you sure you want to verify this Registration? All followers will be notified!"
							states="evaluation" 
							/>

						<button name="action_reject2"  
							string="Reject" type="object"
							class="oe_highlight" groups="inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin,inseta_etqa.group_etqa_assessment_admin"
							states="pending_approval, awaiting_rejection2"/>

                        <button name="action_manager_approve" string="Approve" type="object"
							class="oe_highlight" 
							confirm="Are you sure you want to approve this Registration? All followers will be notified!"
							groups="inseta_etqa.group_etqa_assessment_admin,inseta_etqa.group_etqa_evaluating_admin,inseta_etqa.group_etqa_evaluating_manager"
							states="pending_approval" />

						<button name="action_print_appointment_letter" string="Print Appointment" type="object"
							attrs="{'invisible':[('state','not in', ['done'])]}" groups="inseta_etqa.group_etqa_evaluating_admin,inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_assessment_admin"
							/>

						<button name="action_print_reject_letter" string="Print Rejection Letter" type="object"
							attrs="{'invisible':[('state','not in',['reject'])]}" groups="inseta_etqa.group_etqa_evaluating_admin,inseta_etqa.group_etqa_evaluating_manager,inseta_etqa.group_etqa_assessment_admin"
							/> 

						<button name="update_existing_record" string="Update Details" type="object"
							class="oe_highlight" attrs="{'invisible':[('is_existing_reg','=',False)]}"
							groups="inseta_etqa.group_etqa_evaluating_admin,inseta_etqa.group_etqa_evaluating_manager"/>
         
						<field name="state" widget="statusbar" clickable="True"
							statusbar_visible="draft,evaluation,pending_approval,reject,done"
							statusbar_colors='{"rework":"blue","done":"green","reject":"red"}'
							/>
					</header>
					<sheet>
						<field name="image_512" widget="image" class="oe_left oe_avatar" attrs="{'readonly':[('state','!=','draft')]}"/>
						<div class="oe_title" attrs="{'readonly':[('state','!=','draft')]}">
							<h2><field name="reference" string="Ref. No" readonly="1"/> </h2>
							<h1>
								<field name="name" placeholder="Full Name" readonly="1"/>
							</h1>
						</div>
						<group>
							<p style="color: red;" attrs="{'invisible':[('state','not in',['evaluation'])]}">* ETQA Assessment admin and Evaluation committee Verifies </p>
							<p style="color: red;" attrs="{'invisible':[('state','not in',['evaluation'])]}">* Click on each programme line and view all documents and click the compulsory document tab for verify </p>
							<p style="color: red;" attrs="{'invisible':[('state','not in',['pending_approval'])]}">* ETQA Manager approves at this stage </p>
							<separator string="Learner Details" colspan="4"/>
							<group>
								<field name="provider_id" readonly="1" required="0" invisible="1"/>
								<field name="is_existing_reg" readonly="1" required="0" invisible="1"/>
								
								<field name="title" string="Title" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
								<field name="first_name" attrs="{'required':[('state','=', 'draft')], 'readonly':[('state','not in',['draft', 'rework'])]}"/>
                                <field name="middle_name" string="Middlename" attrs="{'readonly':[('state','not in',['draft', 'rework'])]}"/>
								<field name="last_name" string="Surname" attrs="{'required':[('state','=', 'draft')], 'readonly':[('state','not in',['draft', 'rework'])]}"/>
								<field name="initials" attrs="{'required':[('state','=', 'draft')],'readonly':[('state','not in',['draft', 'rework'])]}"/>
								<field name="alternateid_type_id" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
								<field name="id_no" required="1" attrs="{'readonly':[('state','!=','draft')]}"/>
								<field name="id_copy" required="1" attrs="{'readonly':[('state','!=','draft')]}"/>
								<!-- attrs="{'required':[('alternateid_type_id','=', True)]}"/> -->

								<field name="gender_id" options="{'no_create': True, 'no_open': True}" attrs="{'required':[('state','=', 'draft')],'readonly':['|',('alternateid_type_id','=',False),('state','not in',['draft', 'rework'])]}"/>
								<field name="birth_date" required="1" attrs="{'readonly':['|', ('state','!=','draft'), ('alternateid_type_id','=',False)]}"/>
								<field name="user_id" readonly="1" invisible="1" options="{'no_create': True, 'no_open': True}"/>
							</group>
							<group>
								<field name="email" string="Email" widget="email" required="1" attrs="{'readonly':[('state','!=','draft')]}"/>
								<field name="phone" placeholder="0117827460" attrs="{'readonly':[('state','!=','draft')]}"/>  
								<field name="fax_number" attrs="{'readonly':[('state','!=','draft')]}"/>
								<field name="mobile" required="1" attrs="{'readonly':[('state','!=','draft')]}"/>
                            	<field name="employer_sdl" invisible="1" attrs="{'readonly':[('state','!=','draft')]}"/>
								<field name="approval_date" readonly="1"/>
								<field name="registration_date" readonly="1" />
								<field name="provider_id" invisible="1" options="{'no_create': True, 'no_open': True}"/>
							</group> 
							<group>
								<!-- <field name="general_comments" colspan="4"/> -->
							</group>
							<!-- <div class="oe_title">
								<h3>
									Learner Data Import
								</h3>
							</div>
							<div class="alert alert-info" role="alert">
								Download sample import template <a href="https://docs.google.com/spreadsheets/d/1b9NUawAZ3AJaiZ-Lyvsp4fKQe4o6C4lpxkftQqT_OaY/edit#gid=1640049505"> here </a> <br/>
								Allowed file types: .xls, .xlsx
							</div>
							<newline/> -->

							
							<div class="alert alert-info" role="alert">
								Navigate to other tabs to provide more required Information <br/>
								You can also use the bulk import functionality to upload learners
							</div>
							<newline/>
						</group>

						<notebook>
							<page string="Contact Information">
								<group>
									<group string="Physical Address">
										<field name="physical_code" required="1" attrs="{'readonly':[('state','!=','draft')]}"/>
										<field name="physical_address1" required="1" placeholder="e.g 34 Edinson street" attrs="{'readonly':[('state','!=','draft')]}"/>
										<field name="physical_address2" required="1" placeholder="e.g St Edinson street" attrs="{'readonly':[('state','!=','draft')]}"/>
										<field name="physical_address3" placeholder="Enter Address" attrs="{'readonly':[('state','!=','draft')]}"/>
										<field name="physical_suburb_id" required="1" placeholder="Suburb" options="{'no_create': True, 'no_open': True}" attrs="{'readonly':[('state','not in',['draft', 'rework'])]}"/> 
										<field name="physical_city_id" required="1" placeholder="City" options="{'no_create': True, 'no_open': True}" attrs="{'readonly':[('state','!=','draft')]}"/>
										<field name="physical_province_id" required="1" class="oe_no_button" placeholder="State" options="{'no_create': True, 'no_open': True}" attrs="{ 'readonly':[('state','not in',['draft', 'rework'])]}"/>
										<field name="physical_urban_rural" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>

										<field name="physical_municipality_id" required="1" placeholder="Municipality" attrs="{ 'readonly':[('state','not in',['draft', 'rework'])]}" options="{'no_create': True, 'no_open': True}"/>
										<!-- <span class="o_form_label o_td_label" name="latitude_degree">
											<b>Longitude</b>
										</span>
										<div class="o_address_format">
											<field name="latitude_degree" string="longitude"/>
											<button string="Get Geolocation" name="get_geolocation" colspan="2" icon="fa-check" type="object"/>
										</div>
									 
										<field name="longitude_degree" string="Latitude" required="0"/>  -->
										 
									</group>
									<group string="Postal Address">
										<label for="use_physical_for_postal_addr"/>
										<field name="use_physical_for_postal_addr" nolabel="1" attrs="{'readonly':[('state','!=','draft')]}"/>
										<separator string="Postal Address"/>
										 	<field name="postal_code" placeholder='2222' required="1" attrs="{'readonly':[('state','!=','draft')]}"/>
											<field name="postal_address1" required="1" placeholder="e.g 23" attrs="{'readonly':[('state','!=','draft')]}"/>
											<field name="postal_address2" required="1" attrs="{'readonly':[('state','!=','draft')]}"/>
											<field name="postal_address3" attrs="{'readonly':[('state','!=','draft')]}"/>
											<field name="postal_suburb_id" required="1" placeholder="Suburb" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
											<field name="postal_city_id" placeholder="City" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
											<field name="postal_province_id" class="oe_no_button" placeholder="Province" required="1" attrs="{'readonly':[('state','not in',['draft', 'rework'])]}" options="{'no_create': True, 'no_open': True}"/>
											<field name="statssa_area_code_id" string="STATSSA Area code" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
									</group>
								</group>
							</page>
							<page string="Citizenship &amp; Other Info">
								<group>
									<group string="Citizenship" attrs="{'readonly':[('state','!=','draft')]}">  
										<field name="citizen_resident_status_id" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
										<field name="nationality_id" placeholder="Nationality" class="oe_no_button" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
										<!-- <field name="id_no" required="1"/> -->
										<field name="home_language_id" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
									</group>
									<group string="Status" attrs="{'readonly':[('state','!=','draft')]}">
										<field name="disability_id" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
										<field name="socio_economic_status_id" required="0"/>
										<field name="equity_id" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>

									</group>

									<group string="Occupation" attrs="{'readonly':[('state','!=','draft')]}">
										<field name="employed" invisible="1" attrs="{'readonly':[('state','!=','draft')]}"/>
										<field name="current_occupation" attrs="{'readonly':[('state','!=','draft')]}"/>
										<field name="occupation_years" attrs="{'readonly':[('state','!=','draft')]}"/> 
										<field name="occupation_experience" attrs="{'readonly':[('state','!=','draft')]}"/>
										<field name="ofo_occupation_id" required="0" string="OFO Occupation" readonly="0" options="{'no_create': True, 'no_open': True}"/> 

									</group> 
									<group string="Eduation / Training Info" attrs="{'readonly':[('state','!=','draft')]}">
										<field name="school_emis_id" string="Last school EMIS" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
										<field name="last_school_year" string="Last school year" required="1" placeholder="eg. 2012" attrs="{'readonly':[('state','!=','draft')]}" />

										<field name="popi_act_status_id" required="1" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/>
										<field name="popi_act_status_date" attrs="{'readonly':[('state','!=','draft')]}"/>
										<!-- <field name="enrollment_status"/> -->
										<field name="highest_edu_level_id" string="Highest Level Education" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_create': True, 'no_open': True}"/><br/>
										<field name="highest_edu_desc" attrs="{'readonly':[('state','!=','draft')]}"/>
										<field name="test_purpose" invisible="1" attrs="{'readonly':[('state','!=','draft')]}"/>
									</group>
								</group>
							</page>
							<!-- <page string="Attachments">
								<group>
									<group invisible="0">
										<field name="id_copy" widget="binary"/>
									</group>
								</group>
							</page> -->

							<page name="programme_registration" string="Programme registration" invisible="0">
								<separator string="Unit standards"/> 
								<field name="unit_standard_learnership_line" required="1" domain="[('id', '=', None)]" context="{'default_state': state}" attrs="{'readonly':[('state','!=','draft')]}">
									<form string="Unit standards">
										<group>
											<group>
												<field name="provider_sdl" attrs="{'required': [('provider_id', '=', False)]}"/> 
												<field name="provider_id" readonly="1" force_save="1" options="{'no_create': True, 'no_open': True}"/> 
												<field name="is_employed" invisible="1"/>
												<field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False),('is_employed', '=', True)]}"/>
												<field name="organisation_id" readonly="1" required="0" string="Employer" force_save="1" options="{'no_create': True, 'no_open': True}"/> 
												<field name="financial_year_id" required="1" readonly="0" options="{'no_create': True, 'no_open': True}"/>
												<field name="unit_standard_id" required="1" options="{'no_create': True, 'no_open': True}" attrs="{'invisible': [('provider_id', '=', False)]}"/>
												<field name="learner_id" invisible="1"/>
												<field name="commencement_date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="completion_date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
											</group>
											<group>
												<field name="effective_date" required="1" readonly="0"/>
												<field name="socio_economic_status_id" required="1" readonly="0" 
												options="{'no_create': True, 'no_open': True}"/>
												<field name="most_recent_registration_date" readonly="0"/>
												<field name="state" invisible="1"/>

											</group>
										</group>
										<notebook>
											<page name="document_ids" string="Compulsory Document" invisible="0">
											<p style="color: red;">*Click on each line to see the upload button</p>
												<field name="document_ids" nolabel="1" readonly="0" context="{'default_state': state}">
													<tree string="Compulsory Documents" editable="bottom" delete="false">
														<field name="name"/>
														<field name="state" invisible="1"/>
														<field name="datas" filename="data_name" required="1" attrs="{'readonly':[('state','in',['pending_approval', 'evaluation'])]}"/>
														<field name="data_name" invisible="0" force_save="1" attrs="{'readonly':[('state','!=','draft')]}"/>
														<field name="attachment_id" string="Enter Document Name" invisible="1" domain="[('id','=',None)]" options="{'no_quick_create': True}" required="0" />
														<field name="compliant" groups="inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin,inseta_etqa.group_etqa_assessment_admin" attrs="{'readonly':[('state','=','draft')]}"/>
													</tree>
													<form string="Documents">
														<group>
															<group>
																<field name="name" string="Document title" required="1" invisible="0"/> 
																<field name="datas" filename="data_name" required="1"/>
															</group> 
															<group>
																<field name="data_name" invisible="1"/>
															</group> 
														</group>
													</form>
												</field>
											</page>
										</notebook>
									</form>
									<tree string="Unit standards">
										<field name="provider_id" required="1"/> 
										<field name="organisation_id" required="1" string="Employer"/> 
										<field name="unit_standard_id" required="1"/>
										<field name="financial_year_id" readonly="0" options="{'no_create': True, 'no_open': True}"/>
										<field name="commencement_date" required="1" readonly="0"/>
										<field name="completion_date" required="1" readonly="0"/> 
										<field name="programme_status_id" readonly="0"/>
									</tree>
								</field>

								<separator string="Qualification"/>
								<field name="qualification_learnership_line" required="1" domain="[('id', '=', None)]" context="{'default_state': state}" attrs="{'readonly':[('state','!=','draft')]}">
									<form string="Qualification">
										<group>
											<group>
												<field name="provider_sdl" attrs="{'required': [('provider_id', '=', False)]}"/> 
												<field name="provider_id" readonly="1" force_save="1" options="{'no_open':True, 'no_create':True}"/> 
												<field name="is_employed" invisible="1"/>
												<field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False),('is_employed', '=', True)]}"/>
												<field name="organisation_id" readonly="1" required="0" string="Employer" force_save="1" options="{'no_create': True, 'no_open': True}"/> 
												<field name="financial_year_id" readonly="0" required="1" options="{'no_create': True, 'no_open': True}"/>
												<field name="qualification_id" required="1" options="{'no_create': True, 'no_open': True}" attrs="{'invisible': [('provider_id', '=', False)]}"/>
												<field name="qualification_code" string="SAQA Code" readonly="1"/>
												<field name="learner_id" invisible="1"/>

												<field name="commencement_date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="completion_date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
											</group>
											<group>
												<field name="project_type_id" invisible="1"/>
												<field name="socio_economic_status_id" required="1" readonly="0" options="{'no_open':True, 'no_create':True}"/>

												<field name="funding_type" string="Funding type" readonly="0" options="{'no_open':True, 'no_create':True}"/>
												<field name="most_recent_registration_date" readonly="0"/>
												<field name="state" invisible="1"/>
											</group>
										</group>
										<notebook>
											<page name="unitstandards" string="Qualification Unit Standards line">
												
												<separator string="Add Electives"/>
												<field name="elective_qualification_unit_standard_line_ids" nolabel="1" readonly="0" required="1" options="{'no_create': True}">
													<tree string="Qualification Unit standards">
														<field name="unit_standard_id" required="1" options="{'no_create': True, 'no_open': True}"/>
														<field name="unit_standard_type_id" required="1" invisible="0" options="{'no_create': True, 'no_open': True}"/> 
													</tree>
													<form string="Electives Unit standards">
														<group>
															<group>
																<field name="unit_standard_id" required="1" options="{'no_create': True, 'no_open': True}" readonly="1"/>
															</group>
															<group>
																<field name="unit_standard_type_id" required="1" invisible="0" options="{'no_create': True, 'no_open': True}"/> 
															</group>
														</group>

													</form>
												</field>
												<p style="color: red;">*Add electives Unit standards above and it will reflect on the unit standards below</p>
												<separator string="Programme Unit standards"/>
												<field name="qualification_unit_standard_ids" nolabel="1" readonly="0" required="0" context="{'default_programme_id': qualification_id}" force_save="1">
													<tree string="Qualification Unit standards" editable="bottom" delete="false" create="false">
														<field name="select"/> 
														<field name="qualification_learnership_id" required="1" invisible="1" options="{'no_create': True, 'no_open': True}"/> 
														<field name="programme_id" required="0" invisible="1" options="{'no_create': True, 'no_open': True}"/>
														<field name="unit_standard_id" readonly="1" required="1" options="{'no_create': True, 'no_open': True}" force_save="1"/>
														<field name="unit_standard_type" readonly="1" required="1" invisible="0" options="{'no_create': True, 'no_open': True}" force_save="1"/> 
														<field name="credits"/>
													</tree>
												</field>
											</page>
											<page name="document_ids" string="Compulsory Document" invisible="0">
											<p style="color: red;">*Click on each line to see the upload button</p>
												<field name="document_ids" nolabel="1" readonly="0" context="{'default_state': state}">
													<tree string="Compulsory Documents" editable="bottom" delete="false">
														<field name="name"/>
														<field name="state" invisible="1"/>
														<field name="datas" filename="data_name" required="1" attrs="{'readonly':[('state','in',['pending_approval', 'evaluation'])]}"/>
														<field name="data_name" invisible="0" force_save="1"/>
														<field name="attachment_id" string="Enter Document Name" invisible="1" domain="[('id','=',None)]" options="{'no_quick_create': True}" required="0" />
														<field name="compliant" groups="inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin" attrs="{'readonly':[('state','=','draft')]}"/>
													</tree>
													<form string="Documents">
														<group>
															<group>
																<field name="name" string="Document title" required="1" invisible="0"/> 
																<field name="datas" filename="data_name" required="1"/>
															</group> 
															<group>
																<field name="data_name" invisible="1"/>
															</group> 
														</group>
													</form>
												</field>
											</page>
										</notebook>
									</form>
									<tree string="Qualification">
										<field name="provider_id" required="1" options="{'no_open':True, 'no_create':True}"/> 
										<field name="organisation_id" required="1" string="Employer" options="{'no_open':True, 'no_create':True}"/> 
										<field name="qualification_id" required="1" options="{'no_open':True, 'no_create':True}"/>
										<field name="financial_year_id" readonly="0" options="{'no_open':True, 'no_create':True}"/>
										<field name="commencement_date" required="1" readonly="0"/>
										<field name="completion_date" required="1" readonly="0"/>
										<field name="programme_status_id" readonly="0" options="{'no_open':True, 'no_create':True}"/> 
									</tree>
								</field>

								
								<separator string="Skills"/>
								<field name="skill_learnership_line" required="1" domain="[('id', '=', None)]" context="{'default_state': state}" attrs="{'readonly':[('state','!=','draft')]}">
									<form string="Skills Programme">
										<group>
											<group>
												<field name="provider_sdl" attrs="{'required': [('provider_id', '=', False)]}"/> 
												<field name="provider_id" readonly="1" force_save="1" options="{'no_open':True, 'no_create':True}"/> 
												<field name="is_employed" invisible="1"/>
												<!-- <field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False)]}"/> -->
												<field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False),('is_employed', '=', True)]}"/>
												<field name="organisation_id" readonly="1" string="Employer" force_save="1" options="{'no_create': True, 'no_open': True}"/> 
												<field name="financial_year_id" required="1" readonly="0" options="{'no_create': True, 'no_open': True}"/>
												<field name="skill_programme_id" required="1" string="Programme" options="{'no_create': True, 'no_open': True}" attrs="{'invisible': [('provider_id', '=', False)]}"/>
												<field name="qualification_code" string="SAQA Code" readonly="1"/> 
												<field name="effective_date" readonly="0"/> 
											</group>
											<group>
												<field name="funding_type" required="1" string="Sponsor" readonly="0" options="{'no_create': True, 'no_open': True}"/>
												<field name="commencement_date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="completion_date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="socio_economic_status_id" readonly="0" force_save="1" required="1" options="{'no_create': True, 'no_open': True}"/>
												<field name="project_type_id" invisible="1"/>
												<field name="most_recent_registration_date" readonly="0"/>
												<field name="state" invisible="1"/>
											</group>
										</group>
										<notebook>
											<page name="unitstandards" string="Skill Unit Standards line">
												<separator string="Add Electives"/>
												<field name="elective_skills_unit_standard_ids" nolabel="1" readonly="0" required="1" options="{'no_create': True}">
													<tree string="Elective Unit standards">
														<field name="unit_standard_id" required="1" options="{'no_create': True, 'no_open': True}"/>
														<field name="unit_standard_type_id" required="1" invisible="0" options="{'no_create': True, 'no_open': True}"/> 
													</tree>
													<form string="Electives Unit standards">
														<group>
															<group>
																<field name="unit_standard_id" required="1" options="{'no_create': True, 'no_open': True}" readonly="1"/>
															</group>
															<group>
																<field name="unit_standard_type_id" required="1" invisible="0" options="{'no_create': True, 'no_open': True}" readonly="1"/> 
															</group>
														</group>

													</form>
												</field>
												<p style="color: red;">*Add electives Unit standards above and it will reflect on the unit standards below</p>
												<separator string="Programme Unit standards"/>
												<field name="skills_unit_standard_ids" nolabel="1" readonly="0" required="0" context="{'default_programme_id': skill_programme_id}">
													<tree string="Skill Unit standards" editable="bottom" delete="0" create="0">
														<field name="select"/>
                                                        <field name="skill_learnership_id" required="1" invisible="1"/>
														<field name="programme_id" required="0" invisible="1"/>
														<field name="unit_standard_id" force_save="1" readonly="1" required="1" options="{'no_create': True, 'no_open': True}"/>
														<field name="unit_standard_type" force_save="1" readonly="1" required="1" invisible="0" options="{'no_create': True, 'no_open': True}"/> 
														<field name="credits" sum="Total Credits"/>
													</tree>
												
												</field>
											</page>
											<page name="document_ids" string="Compulsory Document" invisible="0">
												<field name="document_ids" nolabel="1" readonly="0" context="{'default_state': state}">
													<tree string="Compulsory Documents" editable="bottom" delete="false">
														<field name="name"/>
														<field name="state" invisible="1"/>
														<field name="datas" filename="data_name" required="1" attrs="{'readonly':[('state','in',['pending_approval', 'evaluation'])]}"/>
														<field name="data_name" invisible="0" force_save="1"/>
														<field name="attachment_id" string="Enter Document Name" invisible="1" domain="[('id','=',None)]" options="{'no_quick_create': True}" required="0" />
														<field name="compliant" groups="inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_assessment_admin,inseta_etqa.group_etqa_evaluating_admin" attrs="{'readonly':[('state','=','draft')]}"/>
													</tree>
													<form string="Documents">
														<group>
															<group>
																<field name="name" string="Document title" required="1" invisible="0"/> 
																<field name="datas" filename="data_name" required="1"/>
															</group> 
															<group>
																<field name="data_name" invisible="1"/>
															</group> 
														</group>
													</form>
												</field>
											</page>
											
										</notebook>
									</form>
									<tree string="Skills">
										<field name="provider_id" required="1"/> 
										<field name="organisation_id" required="1" string="Employer"/> 
										<field name="skill_programme_id" required="1" string="Programme"/> 
										<field name="financial_year_id" readonly="0"/>
										<field name="commencement_date" required="1" readonly="0"/>
										<field name="completion_date" required="1" readonly="0"/>
										<field name="programme_status_id" readonly="0"/>
									</tree>
								</field>

								<separator string="Learnership"/>
								<field name="learner_learnership_line" required="1" domain="[('id', '=', None)]" context="{'default_state': state}" attrs="{'readonly':[('state','!=','draft')]}">
									<form string="Learnership">
										<group>
											<group>
												<field name="provider_sdl" attrs="{'required': [('provider_id', '=', False)]}"/> 
												<field name="provider_id" readonly="1" force_save="1" options="{'no_open':True, 'no_create':True}"/> 
												<field name="is_employed" invisible="1" options="{'no_open':True, 'no_create':True}"/>
												<field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False),('is_employed', '=', True)]}"/>
												<!-- <field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False)]}"/> -->
												<field name="organisation_id" readonly="1" required="0" string="Employer" force_save="1"  options="{'no_create': True, 'no_open': True}"/> 
												<field name="financial_year_id" readonly="0"  options="{'no_create': True, 'no_open': True}" required="1"/>
												<field name="learner_programme_id" string="Programme" required="1" options="{'no_create': True, 'no_open': True}" attrs="{'invisible': [('provider_id', '=', False)]}"/>
												<field name="qualification_code" string="SAQA Code" readonly="1"/>
												<field name="lga_number" required="0"/>
												<field name="secondary_provider_id" invisible="1" required="0" string="Secondary Provider"/> 
												<field name="secondary_organisation_id" invisible="1" required="0" string="Secondary Employer"/> 
												<field name="commencement_date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="completion_date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
											</group>
											<group>
												<field name="effective_date" string="Status Effective Date" required="0"/>
												<field name="funding_type" string="Sponsor" readonly="0" options="{'no_create': True, 'no_open': True}"/>
												<field name="socio_economic_status_id" required="1" readonly="0" options="{'no_create': True, 'no_open': True}"/>
												<field name="project_type_id" invisible="1"/>
												<field name="most_recent_registration_date" readonly="0"/>
												<field name="programme_status" invisible="1" readonly="0" options="{'no_open':True, 'no_create':True}"/>
												<field name="status" invisible="1" readonly="0"/>
												<field name="dgtype_code" invisible="0" readonly="0"/>
												<field name="learner_id" invisible="1" options="{'no_open':True, 'no_create':True}"/>
												<field name="state" invisible="1"/>
											</group>
										</group>
										<notebook>
											<page name="unitstandards" string="Learnership Unit Standards line">
												<separator string="Add Electives"/>
												<field name="elective_learnership_unit_standard_line_ids" nolabel="1" readonly="0" required="1" options="{'no_create': True}">
													<tree string="Unit standards">
														<field name="unit_standard_id" required="1" options="{'no_create': True, 'no_open': True}"/>
														<field name="unit_standard_type_id" required="1" invisible="0" options="{'no_create': True, 'no_open': True}"/> 
													</tree>
													<form string="Electives Unit standards">
														<group>
															<group>
																<field name="unit_standard_id" required="1" options="{'no_create': True, 'no_open': True}"/>
															</group>
															<group>
																<field name="unit_standard_type_id" required="1" invisible="0" options="{'no_create': True, 'no_open': True}"/> 
															</group>
														</group>

													</form>
												</field>
												<p style="color: red;">*Add electives Unit standards above and it will reflect on the unit standards below</p>
												<separator string="Programme Unit standards"/>
												<field name="learnership_unit_standard_ids" nolabel="1" readonly="0" required="0"
												context="{'default_programme_id': learner_programme_id}" force_save="1">
													<tree string="Learnership Unit standards" editable="bottom" delete="0">
														<field name="select"/>
                                                        <field name="learnership_id" required="1" invisible="1"/> 
														<field name="programme_id" required="0" invisible="1" options="{'no_create': True, 'no_open': True}"/> 
														<field name="unit_standard_id" force_save="1" readonly="1" required="1" options="{'no_create': True, 'no_open': True}"/>
														<field name="unit_standard_type" force_save="1" readonly="1" required="1" invisible="0" options="{'no_create': True, 'no_open': True}"/> 
														<field name="credits" sum="Total Credits"/>
													</tree>
												
												</field>
											</page>
											<page name="document_ids" string="Compulsory Document" invisible="0">
											<p style="color: red;">*Click on each line to see the upload button</p>
												<field name="document_ids" nolabel="1" readonly="0" context="{'default_state': state}">
													<tree string="Compulsory Documents" editable="bottom" delete="false">
														<field name="name"/>
														<field name="state" invisible="1"/>
														<field name="datas" filename="data_name" required="1" attrs="{'readonly':[('state','in',['pending_approval', 'evaluation'])]}"/>
														<field name="data_name" invisible="0" readonly="1" force_save="1"/>
														<field name="attachment_id" string="Enter Document Name" invisible="1" domain="[('id','=',None)]" options="{'no_quick_create': True}" required="0" />
														<field name="compliant" groups="inseta_etqa.group_etqa_assessment_admin,inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin" attrs="{'readonly':[('state','=','draft')]}"/>
													</tree>
													<form string="Documents">
														<group>
															<group>
																<field name="name" string="Document title" required="1" invisible="0"/> 
																<field name="datas" filename="data_name" required="1"/>
															</group> 
															<group>
																<field name="data_name" invisible="1"/>
															</group> 
														</group>
													</form>
												</field>
											</page>
										</notebook>
									</form>
									<tree string="Learnership">
										<field name="provider_id" required="1"/> 
										<field name="organisation_id" required="1" string="Employer"/> 
										<field name="learner_programme_id" string="Programme" required="1"/>
										<field name="financial_year_id" readonly="0"/>
										<field name="commencement_date" required="1" readonly="0"/>
										<field name="completion_date" required="1" readonly="0"/>
										<field name="programme_status_id" readonly="0"/>
										 
									</tree>
								</field>

								<separator string="Internship"/>
								<field name="internship_learnership_line" readonly="0" required="1" domain="[('id', '=', None)]" context="{'default_state': state}" attrs="{'readonly':[('state','!=','draft')]}">
									<form string="Internship">
										<group>
											<group>
												<field name="provider_sdl" attrs="{'required': [('provider_id', '=', False)]}"/> 
												<field name="provider_id" readonly="1" force_save="1" options="{'no_create': True, 'no_open': True}"/> 
												<field name="is_employed" invisible="1"/>
												<field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False),('is_employed', '=', True)]}"/>
												<field name="organisation_id"  required="0" readonly="1" string="Employer" force_save="1"/> 
												<field name="financial_year_id" required="1" readonly="0" options="{'no_create': True, 'no_open': True}"/>
												<field name="qualification_id" options="{'no_create': True, 'no_open': True}" string="Qualification" required="1" attrs="{'invisible': [('provider_id', '=', False)]}"/> 
												<field name="lga_number" required="0"/>
												<field name="programme_id" options="{'no_create': True, 'no_open': True}" string="Internship Type" invisible="1" required="0"/>
												<field name="qualification_code" string="SAQA Code" readonly="1"/>
												<field name="ofo_occupation_id" string="OFO Occupation" readonly="0" options="{'no_create': True, 'no_open': True}"/> 
												<field name="sic_code" invisible="1" readonly="0"/>
												<field name="funding_type" string="Sponsor" readonly="0" options="{'no_create': True, 'no_open': True}"/>
												<!-- <field name="core_business_desc" readonly="0" widget="text" placeholder="Please enter description here ..."/> -->
											</group>
											<group>
												<field name="nqflevel_id" required="1" string="NQF Level" readonly="0" options="{'no_create': True, 'no_open': True}"/> 
												<field name="year_of_study" readonly="0"/>
												<field name="highest_edu_level_id" readonly="0" options="{'no_create': True, 'no_open': True}"/>
												<field name="commencement_date" string="Internship Start Date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="completion_date" string="Internship end date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/> 
											</group>
											<group>
												<!-- <field name="verified" readonly="0"/>
												<field name="verifier_name" readonly="0"/>
												<field name="verified_date" readonly="0"/> -->
												<field name="fet" readonly="0" invisible="1" options="{'no_create': True, 'no_open': True}"/>
												<field name="het" readonly="0" invisible="1" options="{'no_create': True, 'no_open': True}"/>
												<field name="cummulative_spend" invisible="1" readonly="0"/>
												<field name="socio_economic_status_id" readonly="0" force_save="1" options="{'no_create': True, 'no_open': True}"/>
												<field name="dgtype_code" invisible="1" readonly="0"/>
											</group>
											<group>
												<field name="effective_date" string="Status Effective Date" required="0"/>
												<field name="programme_status" invisible="1" string="Internship status" readonly="0"/>
												<field name="status" invisible="1" string="Enrollment Status" readonly="0"/>
												<field name="most_recent_registration_date" readonly="0"/> 
												<field name="state" invisible="1"/>
											</group>
										</group>
										<notebook>
											<page name="unitstandards" string="Unit Standards line" invisible="1">
												<field name="unit_standard_ids" nolabel="1" readonly="0" required="0" options="{'no_create': True, 'no_open': True}">
													<form string="Inseta Unit Standard">
														<div class="oe_title">
															<h1>
																<field name="name" placeholder="Name" readonly="0"/>
															</h1>
														</div>
														<group> 
															<group>
																<field name="unit_standard_type" required="1" invisible="0"/> 
																<field name="code" required="1"/>
																<field name="nqflevel_id" required="1"/>
																
															</group>
															<group> 
																<field name="credits" required="1"/>
															</group> 
														</group>
													</form>
													<tree string="Unit standards">
														<field name="name" required="1" invisible="0" string="Unit Standard Title"/> 
														<field name="unit_standard_type" required="1" invisible="0"/> 
														<field name="code" required="1"/>
														<field name="nqflevel_id" required="1"/> 
														<field name="credits" required="1"/>
														
													</tree>
												</field>
											</page>
											<page name="document_ids" string="Compulsory Document" invisible="0">
											<p style="color: red;">*Click on each line to see the upload button</p>
												<field name="document_ids" nolabel="1" readonly="0" context="{'default_state': state}">
													<tree string="Compulsory Documents" editable="bottom" delete="false">
														<field name="name"/>
														<field name="state" invisible="1"/>
														<field name="datas" filename="data_name" required="1" attrs="{'readonly':[('state','in',['pending_approval', 'evaluation'])]}"/>
														<field name="data_name" invisible="0" force_save="1"/>
														<field name="attachment_id" string="Enter Document Name" invisible="1" domain="[('id','=',None)]" options="{'no_quick_create': True}" required="0" />
														<field name="compliant" groups="inseta_etqa.group_etqa_assessment_admin,inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin" attrs="{'readonly':[('state','=','draft')]}"/>
													</tree>
													<form string="Documents">
														<group>
															<group>
																<field name="name" string="Document title" required="1" invisible="0"/> 
																<field name="datas" filename="data_name" required="1"/>
															</group> 
															<group>
																<field name="data_name" invisible="1"/>
															</group> 
														</group>
													</form>
												</field>
											</page>
										</notebook>
									</form>
									<tree string="Internship" readonly="0">
										<field name="provider_id" required="1"/> 
										<field name="organisation_id" required="1" string="Employer"/> 
										<field name="programme_id" options="{'no_create': True, 'no_open': True}" string="Programme" invisible="1"/>
										<field name="qualification_id" options="{'no_create': True, 'no_open': True}" string="Qualification" required="0"/>
										<field name="financial_year_id" readonly="0" options="{'no_create': True, 'no_open': True}"/>
										<field name="commencement_date" string="Internship Start Date" required="1" readonly="0"/>
										<field name="completion_date" string="Internship end date" required="1" readonly="0"/>
										<field name="status" invisible="0" string="Enrollment Status" readonly="0"/>
									</tree>
								</field>

								<separator string="Bursary"/>
								<field name="bursary_learnership_line" domain="[('id', '=', None)]" readonly="0" context="{'default_state': state}" attrs="{'readonly':[('state','!=','draft')]}">
									<form string="Bursary">
										<group>
											<group>
												<field name="provider_sdl" attrs="{'required': [('provider_id', '=', False)]}"/> 
												<field name="provider_id" readonly="1" force_save="1" options="{'no_open':True, 'no_create':True}"/> 
												<field name="is_employed" invisible="1"/>
												<field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False),('is_employed', '=', True)]}"/>
												<field name="organisation_id" readonly="1" required="0" string="Employer" force_save="1" options="{'no_create': True, 'no_open': True}"/> 
												<field name="financial_year_id" required="1" options="{'no_create': True, 'no_open': True}" readonly="0"/>
												<field name="programme_id" options="{'no_create': True, 'no_open': True}" invisible="1" string="Bursary type" required="1"/>
												<field name="bursary_type_id" string="Bursary type" required="1" invisible="0" options="{'no_create': True, 'no_open': True}" attrs="{'invisible': [('provider_id', '=', False)]}"/>
												<field name="qualification_id" options="{'no_create': True, 'no_open': True}" string="Qualification" required="1" attrs="{'invisible': [('provider_id', '=', False)]}"/> 
												<field name="contract_number"  invisible="1" required="0"/>
												<field name="agreement_number" readonly="0"/>
												<field name="ofo_occupation_id" options="{'no_create': True, 'no_open': True}" string="OFO Occupation" readonly="0"/> 
												
											</group>
											<group>
												<field name="funding_type" options="{'no_create': True, 'no_open': True}" string="Sponsor" readonly="0"/>
												<field name="nqflevel_id" options="{'no_create': True, 'no_open': True}" string="NQF Level" readonly="0"/>
												<field name="dgtype_code" invisible="1" readonly="0"/>
												<field name="institution_id" options="{'no_create': True, 'no_open': True}" readonly="0"/>
												<field name="amount_due_institution" readonly="0"/>
												<field name="commencement_date" string="Bursary Start Date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="completion_date" string="Bursary End date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
											</group>
											<group>
												<!-- <field name="verified" readonly="0"/>
												<field name="verifier_name" readonly="0"/>
												<field name="verified_date" readonly="0"/> -->
												<field name="socio_economic_status_id" options="{'no_create': True, 'no_open': True}" readonly="0" required="1"/>
											</group>
											<group>
												<field name="effective_date" string="Status Effective Date" required="0"/>
												<field name="programme_status" invisible="1" string="Bursary status" readonly="0"/>
												<field name="status" invisible="1" string="Enrollment Status" readonly="0"/>
												<field name="most_recent_registration_date" readonly="0"/>
												<field name="state" invisible="1"/>
											</group>
										</group>
										<notebook>
											<page name="unitstandards" invisible="1" string="Unit Standards line">
												<field name="unit_standard_ids" options="{'no_create': True, 'no_open': True}" nolabel="1" readonly="0" required="0">
													<form string="Inseta Unit Standard">
														<div class="oe_title">
															<h1>
																<field name="name" placeholder="Name" readonly="0"/>
															</h1>
														</div>
														<group> 
															<group>
																<field name="unit_standard_type" options="{'no_create': True, 'no_open': True}" required="1" invisible="0"/> 
																<field name="code" required="1"/>
																<field name="nqflevel_id" options="{'no_create': True, 'no_open': True}" required="1"/>
															</group>
															<group>
																<field name="core_credits" invisible="0"/>
																<!-- <field name="elective_credits" required="0"/>
																<field name="fundamental_credits" invisible="0"/>
																<field name="credits" required="1"/> -->
															</group> 
														</group>
													</form>
													<tree string="Unit standards">
														<field name="name" required="1" invisible="0" string="Unit Standard Title"/> 
														<field name="unit_standard_type" options="{'no_create': True, 'no_open': True}" required="1" invisible="0"/> 
														<field name="code" required="1"/>
														<field name="nqflevel_id" required="1"/>
														<!-- <field name="core_credits" invisible="0" string="Core"/>
														<field name="elective_credits" required="0" string="Elective"/>
														<field name="fundamental_credits" invisible="0" string="Fundamental"/> -->
														<field name="credits" required="1"/>
														
													</tree>
												</field>
											</page>
											<page name="document_ids" string="Compulsory Document" invisible="0">
											<p style="color: red;">*Click on each line to see the upload button</p>
												<field name="document_ids" nolabel="1" readonly="0" context="{'default_state': state}">
													<tree string="Compulsory Documents" editable="bottom" delete="false">
														<field name="name"/>
														<field name="state" invisible="1"/>
														<field name="datas" filename="data_name" required="1" attrs="{'readonly':[('state','in',['pending_approval', 'evaluation'])]}"/>
														<field name="data_name" invisible="1" force_save="1"/>
														<field name="attachment_id" string="Enter Document Name" invisible="1" domain="[('id','=',None)]" options="{'no_quick_create': True}" required="0" />
														<field name="compliant" groups="inseta_etqa.group_etqa_assessment_admin,inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin" attrs="{'readonly':[('state','=','draft')]}"/>
													</tree>
													<form string="Documents">
														<group>
															<group>
																<field name="name" string="Document title" required="1" invisible="0"/> 
																<field name="datas" filename="data_name" required="1"/>
															</group> 
															<group>
																<field name="data_name" invisible="1"/>
															</group> 
														</group>
													</form>
												</field>
											</page>
										</notebook>
									</form>
									<tree string="Bursary">
										<field name="provider_id" required="1"/> 
										<field name="organisation_id" required="1" string="Employer"/> 
										<field name="programme_id" options="{'no_create': True, 'no_open': True}" invisible="1" string="Programme" required="0"/>
										<field name="bursary_type_id" string="Bursary type" required="0" invisible="0" options="{'no_create': True, 'no_open': True}"/>
										<field name="financial_year_id" readonly="0"/>
										<field name="commencement_date" string="Bursary Start Date" required="1" readonly="0"/>
										<field name="completion_date" string="Bursary End date" required="1" readonly="0"/> 
										<field name="status" invisible="0" string="Status" readonly="0"/>
									</tree>
								</field>

								<separator string="WIL(TVET)"/>
								<field name="wiltvet_learnership_line" domain="[('id', '=', None)]" readonly="0" context="{'default_state': state}" attrs="{'readonly':[('state','!=','draft')]}">
									<form string="WIL(TVET)">
										<group>
											<group>
												<field name="reference" force_save="1"/> 
												<field name="provider_sdl" attrs="{'required': [('provider_id', '=', False)]}"/> 
												<field name="provider_id" readonly="1" force_save="1" options="{'no_create': True, 'no_open': True}"/> 
												<field name="is_employed" invisible="1"/>
												<field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False),('is_employed', '=', True)]}"/>
												<field name="organisation_id" readonly="1" required="0" string="Employer" force_save="1" options="{'no_create': True, 'no_open': True}"/> 
												<field name="financial_year_id" readonly="0" options="{'no_create': True, 'no_open': True}" required="1"/> 
												<field name="programme_id" string="WIL type" required="0" options="{'no_create': False, 'no_open': False}"/>
												<field name="funding_type" string="Sponsor" readonly="0" options="{'no_create': True, 'no_open': True}"/>
												<field name="nqflevel_id" string="NQF Level" readonly="0" required="1" options="{'no_create': True, 'no_open': True}"/>
												<field name="ofo_occupation_id" string="OFO Occupation" readonly="0"/> 
												<field name="qualification_id" required="1" string="Qualification" options="{'no_create': True, 'no_open': True}" attrs="{'invisible': [('provider_id', '=', False)]}"/> 
											</group>
											<group>
												<field name="cummulative_spend" readonly="0"/>
												<field name="commencement_date" string="WIL Start Date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="completion_date" string="WIL End date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="socio_economic_status_id" options="{'no_create': True, 'no_open': True}" readonly="0" required="1"/>
												<field name="status" invisible="1" string="Enrollment Status" readonly="0"/>
												<field name="most_recent_registration_date" readonly="0"/>
												<field name="state" invisible="1"/>
											</group>
											 
										</group>
										<notebook>
											<page name="unitstandards" string="Unit Standards line" invisible="1">
												<field name="unit_standard_ids" nolabel="1" readonly="0" required="0" options="{'no_create': True, 'no_open': True}" >
													<form string="Inseta Unit Standard">
														<div class="oe_title">
															<h1>
																<field name="name" placeholder="Name" readonly="0"/>
															</h1>
														</div>
														<group> 
															<group>
																<field name="unit_standard_type" required="1" invisible="0"/> 
																<field name="code" required="1"/>
																<field name="nqflevel_id" options="{'no_create': True, 'no_open': True}" required="1"/>
																
															</group>
															<group>
																<!-- <field name="core_credits" invisible="0"/>
																<field name="elective_credits" required="0"/>
																<field name="fundamental_credits" invisible="0"/> -->
																<field name="credits" required="1"/>
															</group> 
														</group>
													</form>
													<tree string="Unit standards">
														<field name="name" required="1" invisible="0" string="Unit Standard Title"/> 
														<field name="unit_standard_type" required="1" invisible="0"/> 
														<field name="code" required="1"/>
														<field name="nqflevel_id" required="1"/>
														<!-- <field name="core_credits" invisible="0" string="Core"/>
														<field name="elective_credits" required="0" string="Elective"/>
														<field name="fundamental_credits" invisible="0" string="Fundamental"/> -->
														<field name="credits" required="1"/>
														
													</tree>
												</field>
											</page>
											<page name="document_ids" string="Compulsory Document" invisible="0">
											<p style="color: red;">*Click on each line to see the upload button</p>
												<field name="document_ids" nolabel="1" readonly="0" context="{'default_state': state}">
													<tree string="Compulsory Documents" editable="bottom" delete="false">
														<field name="name"/>
														<field name="state" invisible="1"/>
														<field name="datas" filename="data_name" required="1" attrs="{'readonly':[('state','in',['pending_approval', 'evaluation'])]}"/>
														<field name="data_name" filename="data_name" invisible="0" force_save="1"/>
														<field name="attachment_id" string="Enter Document Name" invisible="1" domain="[('id','=',None)]" options="{'no_quick_create': True}" required="0" />
														<field name="compliant" groups="inseta_etqa.group_etqa_assessment_admin,inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin" attrs="{'readonly':[('state','=','draft')]}"/>
													</tree>
													<form string="Documents">
														<group>
															<group>
																<field name="name" string="Document title" required="1" invisible="0"/> 
																<field name="datas" filename="data_name" required="1"/>
															</group> 
															<group>
																<field name="data_name" invisible="1"/>
															</group> 
														</group>
													</form>
												</field>
											</page>
										</notebook>
									</form>
									<tree string="WIL(TVET)">
										<field name="provider_id" required="1"/> 
										<field name="organisation_id" required="1" string="Employer"/> 
										<field name="programme_id" options="{'no_create': True, 'no_open': True}" invisible="0" string="Programme" required="1"/>
										<field name="financial_year_id" readonly="0"/>
										<field name="commencement_date" string="WIL Start Date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
										<field name="completion_date" string="WIL End date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
										<field name="status" invisible="1" string="Enrollment Status" readonly="0"/> 
									</tree>
								</field>

								<separator string="Candidacy"/>
								<field name="candidacy_learnership_line" domain="[('id', '=', None)]" readonly="0" context="{'default_state': state}" attrs="{'readonly':[('state','!=','draft')]}">
									<form string="Candidacy">
										<group>
											<group>
												<field name="provider_sdl" attrs="{'required': [('provider_id', '=', False)]}"/> 
												<field name="provider_id" readonly="1" force_save="1"/> 
												<field name="is_employed" invisible="1"/>
												<field name="employer_sdl" attrs="{'required': [('organisation_id', '=', False),('is_employed', '=', True)]}"/>
												<field name="organisation_id" readonly="1" required="0" string="Employer" force_save="1"/> 
												<field name="programme_id" options="{'no_create': True, 'no_open': True}" string="Candidacy type" required="0" invisible="1"/>
												<field name="ofo_occupation_id" options="{'no_create': True, 'no_open': True}" string="OFO Occupation" readonly="0"/> 
												<field name="funding_type" options="{'no_create': True, 'no_open': True}" string="Sponsor" readonly="0"/>
												<field name="nqflevel_id" options="{'no_create': True, 'no_open': True}" string="NQF Level" readonly="0" required="1"/>
											</group>
											<group>
												<field name="financial_year_id" options="{'no_create': True, 'no_open': True}" readonly="0" required="1"/> 
												<field name="qualification_id" options="{'no_create': True, 'no_open': True}" string="Qualification" required="1" attrs="{'invisible': [('provider_id', '=', False)]}"/> 
											</group>
											<group>
												<field name="socio_economic_status_id" options="{'no_create': True, 'no_open': True}" required="1" readonly="0"/>
												<field name="commencement_date" string="Candidacy Start Date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="completion_date" string="Candidacy End date" required="1" readonly="0" attrs="{'invisible': [('financial_year_id', '=', False)]}"/>
												<field name="status" invisible ="1" string="Candidacy status" readonly="0"/>
											</group>
											<group>
												<field name="effective_date" string="Status Effective Date" required="0"/>
												<field name="status" string="Enrollment Status" readonly="0"/>
												<field name="most_recent_registration_date" readonly="0"/>
												<field name="state" invisible="1"/>
											</group>
										</group>
										<notebook>
											<page name="unitstandards" string="Unit Standards line" invisible="1">
												<field name="unit_standard_ids" nolabel="1" readonly="0" required="0" options="{'no_create': True, 'no_open': True}" >
													<form string="Inseta Unit Standard">
														<div class="oe_title">
															<h1>
																<field name="name" placeholder="Name" readonly="0"/>
															</h1>
														</div>
														<group> 
															<group>
																<field name="unit_standard_type" options="{'no_create': True, 'no_open': True}" required="1" invisible="0"/> 
																<field name="code" required="1"/>
																<field name="nqflevel_id" options="{'no_create': True, 'no_open': True}" required="1"/>
																
															</group>
															<group>
																<!-- <field name="core_credits" invisible="0"/>
																<field name="elective_credits" required="0"/>
																<field name="fundamental_credits" invisible="0"/> -->
																<field name="credits" required="1"/>
															</group> 
														</group>
													</form>
													<tree string="Unit standards">
														<field name="name" required="1" invisible="0" string="Unit Standard Title"/> 
														<field name="unit_standard_type" required="1" invisible="0"/> 
														<field name="code" required="1"/>
														<field name="nqflevel_id" options="{'no_create': True, 'no_open': True}" required="1"/>
														<!-- <field name="core_credits" invisible="0" string="Core"/>
														<field name="elective_credits" required="0" string="Elective"/>
														<field name="fundamental_credits" invisible="0" string="Fundamental"/> -->
														<field name="credits" required="1"/>
														
													</tree>
												</field>
											</page>
											<page name="document_ids" string="Compulsory Document" invisible="0">
											<p style="color: red;">*Click on each line to see the upload button</p>
												<field name="document_ids" nolabel="1" readonly="0" context="{'default_state': state}">
													<tree string="Compulsory Documents" editable="bottom" delete="false">
														<field name="name"/>
														<field name="state" invisible="1"/>
														<field name="datas" filename="data_name" required="1" attrs="{'readonly':[('state','in',['pending_approval', 'evaluation'])]}"/>
														<field name="data_name" invisible="0" force_save="1"/>
														<field name="attachment_id" string="Enter Document Name" invisible="1" domain="[('id','=',None)]" options="{'no_quick_create': True}" required="0" />
														<field name="compliant" groups="inseta_etqa.group_etqa_assessment_admin,inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin" attrs="{'readonly':[('state','=','draft')]}"/>
													</tree>
													<form string="Documents">
														<group>
															<group>
																<field name="name" string="Document title" required="1" invisible="0"/> 
																<field name="datas" filename="data_name" required="1"/>
															</group> 
															<group>
																<field name="data_name" invisible="1"/>
															</group> 
														</group>
													</form>
												</field>
											</page>
										</notebook>
									</form>
									<tree string="Candidacy">
										<field name="provider_id" required="1"/> 
										<field name="organisation_id" options="{'no_create': True, 'no_open': True}" required="1" string="Employer"/> 
										<field name="programme_id" options="{'no_create': True, 'no_open': True}" string="Programme" required="0" invisible="1"/>
										<field name="qualification_id" options="{'no_create': True, 'no_open': True}" string="Qualification" required="1"/>
										<field name="financial_year_id" readonly="0"/>
										<field name="commencement_date" string="Candidacy Start Date" required="1" readonly="0"/>
										<field name="completion_date" string="Candidacy End date" required="1" readonly="0"/>
										<field name="status" invisible="0" string="Enrollment Status" readonly="0"/>
										
									</tree>
								</field>

							</page>
							<page name="document_ids" string="Compulsory Document Validation" attrs="{'invisible': [('state', '!=', 'evaluation')]}">
								<group>
									<group>
                     					<!-- <button name="action_validate_learner_document" type="object" string="Validate Compulsory Document" class="btn-primary btn-sm"/> -->
										<field name="compliant" string="Evidence Compliant" groups="inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_assessment_admin"/>
									</group>
									<group>
									</group>
								</group>

                                <!-- <field name="document_ids" nolabel="1" readonly="0" context="{'default_state': state}">
									<tree string="Compulsory Documents" editable="bottom" delete="false">
										<field name="name"/>
										<field name="state" invisible="1"/>
										<field name="datas" filename="data_name" required="1" attrs="{'readonly':[('state','in',['pending_approval', 'evaluation'])]}"/>
										<field name="data_name" filename="data_name" invisible="0" force_save="1"/>
                                		<field name="attachment_id" string="Enter Document Name" invisible="1" domain="[('id','=',None)]" options="{'no_quick_create': True}" required="0" />
										<field name="compliant" groups="inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_etqa_evaluating_admin" attrs="{'readonly':[('state','=','draft')]}"/>
									</tree>
								</field> -->
							</page>
							<!-- <page name="unit_standard_assesment" string="Unit Standard Assessment" invisible="0">
                                <field name="learner_unit_standard_assessment_ids" nolabel="1" readonly="1">
									<tree string="Unit Standard Assessment" delete="false">
										<field name="unit_standard_id"/>
										<field name="assessment_date" required="0" />
										<field name="moderator_id" required="0" />
										<field name="moderator_date" required="0" />
										<field name="status" string="Programme status" required="0" />
									</tree>
								</field>
							</page> -->
							
							<page name="learner_programmes_line_assessment" string="Learner Assessments" invisible="1">
								<separator string="Learnership Programme"/>
								<field name="learner_programmes_line_ids" context="{'default_parent_id': active_id}">
									<form string="Learnership Programme">
										<group>
											<group>
												<field name="inseta_learner_register" invisible="1"/> 
												<!-- <field name="is_programme" invisible="1"/>  -->
												<field name="learner_programmes_id"/> 
												<field name="assessor_id"/> 
												<field name="assessment_date"/>
											</group>
											<group>
												<field name="moderator_id" readonly="0"/>
												<field name="moderator_date"/>
												<field name="credits"/>
												<field name="parent_id"/>
											</group>
										</group>
										<field name="learner_achievement_lines">
											<tree string="Learning Programme" editable="bottom">
												<field name="select_option"/> 
												<field name="unit_standard_id"/> 
												<field name="code"/> 
												<field name="unit_standard_type" options="{'no_create': True, 'no_open': True}"/>
												<!-- <field name="nqflevel_id" options="{'no_create': True, 'no_open': True}" readonly="0"/> -->
												<field name="credits"/> 
												<field name="status"/>
											</tree>
										</field> 
									</form>
									<tree string="Learning Programme">
										<!-- <field name="is_programme" invisible="1"/>  -->
										<field name="learner_programmes_id"/> 
										<field name="assessor_id"/> 
										<field name="assessment_date"/>
										<field name="moderator_id" readonly="0"/>
										<field name="moderator_date"/>
										<field name="credits" readonly="1"/> 
									</tree>
								</field>
								<separator string="Skills Programme"/>
								<field name="skill_programmes_line_ids" required="1">
									<form string="Skills Programme">
										<group>
											<group>
												<!-- <field name="is_programme" invisible="1"/>  -->
												<field name="skill_programmes_id"/> 
												<field name="assessor_id"/> 
												<field name="assessment_date"/>
											</group>
											<group>
												<field name="moderator_id" readonly="0"/>
												<field name="moderator_date"/>
												<field name="credits" readonly="1"/>
											</group>
										</group>
										<field name="unit_standard_ids" options="{'no_create': True, 'no_open': True}">
											<tree string="Learning Programme" editable="bottom">
												<field name="name" readonly="1"/> 
												<field name="code" readonly="1"/> 
												<field name="unit_standard_type" readonly="1"/>
												<field name="nqflevel_id" string="NQF Level" readonly="0"/>
												<field name="credits" readonly="1"/>
											</tree>
										</field>
									</form>
									<tree string="Skills Programme">
										<!-- <field name="is_programme" invisible="1"/>  -->
										<field name="skill_programmes_id"/> 
										<field name="assessor_id"/> 
										<field name="assessment_date"/>
										<field name="moderator_id" readonly="0"/>
										<field name="moderator_date"/> 
										<field name="credits" readonly="1"/>
									</tree>
								</field>
								<separator string="Qualification Programme"/>
								<field name="qualification_programmes_line_ids" required="1">
									
									<form string="Learner">
										<group>
											<group>
												<!-- <field name="is_programme" invisible="1"/>  -->
												<field name="qualification_id"/> 
												<field name="assessor_id"/> 
												<field name="assessment_date"/>
											</group>
											<group>
												<field name="moderator_id" readonly="0"/>
												<field name="moderator_date"/>
												<field name="credits"/>
											</group>
										</group>
										<field name="learner_achievement_lines">
											<tree string="Learning Programme" editable="bottom">
												<field name="select_option"/> 
												<field name="unit_standard_id"/> 
												<field name="code"/> 
												<field name="unit_standard_type" options="{'no_create': True, 'no_open': True}"/>
												<!-- <field name="nqflevel_id" options="{'no_create': True, 'no_open': True}" readonly="0"/> -->
												<field name="credits"/> 
												<field name="status"/>
											</tree>
										</field> 
									</form>
									<tree string="Qualification">
										<!-- <field name="is_programme" invisible="1"/>  -->
										<field name="qualification_id"/> 
										<field name="assessor_id"/> 
										<field name="assessment_date"/>
										<field name="moderator_id" readonly="0"/>
										<field name="moderator_date"/>
										<field name="credits" readonly="1"/>
									</tree>
								</field>
							</page>
							<!-- TO BE REFACTORED -->
							<page name="page_programmes" string="Qualification &amp; Programmes" invisible="1">
								<separator string="Qualifications"/>
                                <field name="qualification_ids" nolabel="1" readonly="0">
									<tree string="Qualifications" delete="false">
										<field name="name" required="1"/>
										<field name="saqa_id" string="SAQA No." required="0"/>
										<field name="unit_standard_id"/>
										<field name="nqflevel_id" string="NQF Level"/>
										<field name="credits"/>
										<field name="core_credits"/>
										<field name="quality_assurance_id"/>
										<field name="qualification_type_id"/>
									</tree>
								</field>
								<separator string="Skills Programmes"/>
								<field name="skill_programmes_ids" required="1">
									<tree string="Programmes" delete="true">
										<field name="name" required="1"/>
										<field name="programme_type_id" required="1"/>
										<field name="qualification_id" required="1"/>
										<field name="nqflevel_id" string="NQF Level" required="1"/>
										<field name="credits" required="1"/>
										<field name="programme_unit_id" required="1"/>
									</tree>
								</field>
								<separator string="Learners Programmes"/>
								<field name="learner_programmes_ids" required="1">
									<tree string="Programmes" delete="true">
										<field name="name" required="1"/>
										<field name="programme_type_id" required="1"/>
										<field name="qualification_id" required="1"/>
										<field name="nqflevel_id" string="NQF Level" required="1"/>
										<field name="credits" required="1"/>
										<field name="programme_unit_id" required="1"/>
									</tree>
								</field>
								<!-- <separator string="Qualification Programmes"/>
								<field name="qualification_programmes_ids" required="1">
									<tree string="Programmes" editable="bottom" delete="true">
										<field name="name" required="1"/>
										<field name="programme_type_id" required="1"/>
										<field name="qualification_id" required="1"/>
										<field name="nqflevel_id" required="1"/>
										<field name="credits" required="1"/>
										<field name="programme_unit_id" required="1"/>
									</tree>
								</field> -->
							</page>

							
 
						</notebook>
					</sheet>
	
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"/>
						<field name="activity_ids" widget="mail_activity"/>
						<field name="message_ids" widget="mail_thread"/>
					</div>
				</form>
			</field>
		</record>
		<!-- learner Registration Form Ends -->

		<!-- learner Registration Tree Starts -->
		<record id="view_learner_register_tree" model="ir.ui.view">
			<field name="name">view.inseta.learner.register.tree</field>
			<field name="model">inseta.learner.register</field>
			<field name="arch" type="xml">
				<tree string="learner">
					<field name="id_no" />
					<field name="first_name" />
					<field name="middle_name" string="Middle Name"/>
					<field name="last_name" string="Surname"/>
					<field name="initials" string="Initials"/>
					<field name="mobile" string="Phone"/>
					<field name="email" string="Email" />
					<field name="registration_date" />
					<field name="approval_date" />
					<field name="state" />
				</tree>
			</field>
		</record>
		<!-- Learner Registration Tree Ends -->

		<record id="view_learner_register_filter" model="ir.ui.view">
			<field name="name">Learner Register</field>
			<field name="model">inseta.learner.register</field>
			<field name="arch" type="xml">
				<search string="Learner Registration">
					<field name="reference" />
					<field name="name" />
                    <field name="first_name"/>
					<field name="middle_name" string="Middle Name"/>
                    <field name="last_name" string="Surname"/>
                    <field name="initials"/>
					<field name="email" />
					<group expand="0" string="Group By">
						<filter name="status" string="Status" icon="terp-personal" domain="[]" context="{'group_by':'state'}"/>
						<filter name="WorkProvince" string="Work Province" icon="terp-personal" domain="[]" context="{'group_by':'physical_province_id'}"/>
						<filter name="PostalProvince" string="Postal Province" icon="terp-personal" domain="[]" context="{'group_by':'postal_province_id'}"/>
					</group>
				</search>
			</field>
		</record>

		<!-- learner Registration Action. -->
		<record id="action_learner_register" model="ir.actions.act_window">
			<field name="name">Learner Registration</field>
			<field name="res_model">inseta.learner.register</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" eval="view_learner_register_filter" />
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">
					Click To Register Learner. 
				</p>
			</field>
		</record>

		<act_window id="batch_register_learner_programe_action" name="Batch Register learner to Programme"
            context="{'default_is_from_lp': 'ETQA', 'default_is_learner_register': 'Yes'}"
            res_model="inseta.programme.register"
            view_mode="form"
            binding_model="inseta.learner.register"
        />

		<menuitem id="learner_registerations_menu" name="Learners" sequence="6" parent="inseta_etqa.etqa_root_menu" groups="inseta_etqa.group_accessor_moderator_reg,base.user_admin,inseta_etqa.group_etqa_evaluating_manager,inseta_etqa.group_etqa_evaluating_admin,inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_provider_access_user,inseta_etqa.group_approved_provider,inseta_etqa.group_approved_assesor,inseta_etqa.group_moderator_access_user,inseta_etqa.group_approved_moderator,inseta_etqa.group_approved_assesor,inseta_etqa.group_etqa_verification_admin,inseta_etqa.group_etqa_assessment_admin,inseta_etqa.group_etqa_assessment_specialist,inseta_etqa.group_pmo_specialist,inseta_etqa.group_etqa_accreditation_admin,inseta_etqa.group_etqa_accreditation_specialist,base.group_system,inseta_etqa.group_etqa_verifiers,inseta_etqa.group_etqa_user"/>
		<menuitem id="learner_registerations_menu1" name="Register Learners" sequence="2" parent="learner_registerations_menu" action="action_learner_register"
		groups="inseta_etqa.group_accessor_moderator_reg,inseta_etqa.group_etqa_user,base.user_admin,inseta_etqa.group_etqa_evaluating_manager,inseta_etqa.group_etqa_evaluating_admin,inseta_etqa.group_etqa_evaluating_committee,inseta_etqa.group_provider_access_user,inseta_etqa.group_approved_provider,inseta_etqa.group_approved_assesor,inseta_etqa.group_moderator_access_user,inseta_etqa.group_approved_moderator,inseta_etqa.group_approved_assesor,inseta_etqa.group_etqa_verification_admin,inseta_etqa.group_etqa_assessment_admin,inseta_etqa.group_etqa_assessment_specialist,inseta_etqa.group_pmo_specialist,inseta_etqa.group_etqa_accreditation_admin,inseta_etqa.group_etqa_accreditation_specialist,base.group_system,inseta_skills.group_employer"/>
		
</odoo>